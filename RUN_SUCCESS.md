# C++ Python Bridge - æˆåŠŸè¿è¡ŒæŠ¥å‘Š âœ…

## ç¼–è¯‘ä¸è¿è¡ŒçŠ¶æ€

âœ… **ç¼–è¯‘æˆåŠŸ** - 2025å¹´10æœˆ29æ—¥  
âœ… **ç¨‹åºè¿è¡ŒæˆåŠŸ** - æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ

---

## æ‰§è¡Œç»“æœæ¦‚è§ˆ

### 1. âœ… åŸºç¡€å‡½æ•°è°ƒç”¨ (Basic Function Call)
- **åŠ æ³•**: add(10.5, 20.3) = 30.8
- **ä¹˜æ³•**: multiply(4.5, 6.2) = 27.9
- **å¹‚è¿ç®—**: power(2, 8) = 256
- **é˜¶ä¹˜**: factorial(5) = 120
- **æ–æ³¢é‚£å¥‘**: fibonacci(10) = 55

### 2. âœ… å®¹å™¨æ“ä½œ (Container Operations)
- **åˆ—è¡¨æ±‚å’Œ**: [1.5, 2.7, 3.9, 4.1, 5.3, 6.8, 7.2] â†’ sum = 31.5
- **åˆ—è¡¨å¹³å‡å€¼**: average = 4.5
- **çŸ©é˜µä¹˜æ³•**: 
  ```
  [[1, 2], [3, 4]] Ã— [[5, 6], [7, 8]] = [[19, 22], [43, 50]]
  ```

### 3. âœ… å¤æ‚æ•°æ®ç»“æ„ (Complex Data Structures)
æˆåŠŸå¤„ç†åµŒå¥—çš„ `std::map<std::string, std::vector<double>>` æ•°æ®ç»“æ„ï¼š
- **dataset1**: count=5, sum=15, average=3, min=1, max=5
- **dataset2**: count=4, sum=101.6, average=25.4, min=10.5, max=40.1
- **dataset3**: count=3, sum=600, average=200, min=100, max=300

### 4. âœ… é”™è¯¯å¤„ç† (Error Handling)
æˆåŠŸæ•è·å’Œå¤„ç†å¤šç§ Python å¼‚å¸¸ï¼š
- âœ… ValueError - è‡ªå®šä¹‰é”™è¯¯å›è°ƒè§¦å‘
- âœ… TypeError - è¯¦ç»†é”™è¯¯ä¿¡æ¯
- âœ… RuntimeError - å®Œæ•´å †æ ˆè·Ÿè¸ª
- âœ… ZeroDivisionError - é™¤é›¶é”™è¯¯
- âœ… å®‰å…¨æ‰§è¡Œæ¨¡å¼ - è¿”å›ç»“æœ 3

### 5. âœ… å‡½æ•°åŒ…è£…å™¨ (Function Wrapper)
- add_func(15.5, 24.7) = 40.2
- multiply_func(3.14, 2.0) = 6.28
- fibonacci_func(15) = 610

**æ€§èƒ½æµ‹è¯•**: 1000æ¬¡å‡½æ•°è°ƒç”¨ä»…è€—æ—¶ 72 å¾®ç§’  
**å¹³å‡æ¯æ¬¡è°ƒç”¨**: 0.072 å¾®ç§’ ğŸš€

### 6. âœ… å…¨å±€çŠ¶æ€ç®¡ç† (Global State Management)
è®¡æ•°å™¨åŠŸèƒ½æ­£å¸¸ï¼š
- ç¬¬1æ¬¡: counter = 1
- ç¬¬2æ¬¡: counter = 2
- ç¬¬3æ¬¡: counter = 3
- ç¬¬4æ¬¡: counter = 4
- ç¬¬5æ¬¡: counter = 5

---

## ç³»ç»Ÿä¿¡æ¯

- **Python ç‰ˆæœ¬**: 3.12.3
- **å¹³å°**: Windows-11-10.0.26200-SP0
- **æ¶æ„**: 64ä½
- **å¤„ç†å™¨**: AMD64 Family 25 Model 97 Stepping 2
- **ç¼–è¯‘å™¨**: MSVC 19.44.35219.0
- **C++ æ ‡å‡†**: C++17
- **pybind11 ç‰ˆæœ¬**: 3.0.1

---

## åŠŸèƒ½ç‰¹æ€§éªŒè¯

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| C++ è°ƒç”¨ Python å‡½æ•° | âœ… | æ‰€æœ‰ç±»å‹å‡½æ•°è°ƒç”¨æˆåŠŸ |
| è‡ªåŠ¨ç±»å‹è½¬æ¢ | âœ… | åŸºç¡€ç±»å‹ã€STLå®¹å™¨è½¬æ¢æ­£å¸¸ |
| å¼‚å¸¸å¤„ç† | âœ… | Pythonå¼‚å¸¸â†’C++å¼‚å¸¸è½¬æ¢æˆåŠŸ |
| é”™è¯¯å›è°ƒ | âœ… | è‡ªå®šä¹‰é”™è¯¯å¤„ç†å™¨æ­£å¸¸å·¥ä½œ |
| æ¨¡å—åŠ è½½ | âœ… | Pythonæ¨¡å—åŠ¨æ€åŠ è½½æˆåŠŸ |
| å‡½æ•°åŒ…è£…å™¨ | âœ… | é«˜æ€§èƒ½å‡½æ•°åŒ…è£…å™¨å·¥ä½œæ­£å¸¸ |
| å…¨å±€çŠ¶æ€ | âœ… | Pythonå…¨å±€å˜é‡ç®¡ç†æ­£å¸¸ |
| å¤æ‚æ•°æ®ç»“æ„ | âœ… | åµŒå¥—å®¹å™¨è½¬æ¢æˆåŠŸ |
| çŸ©é˜µè¿ç®— | âœ… | 2Dæ•°ç»„æ“ä½œæ­£å¸¸ |
| æ€§èƒ½ | âœ… | é«˜æ€§èƒ½è°ƒç”¨ï¼ˆ0.072Î¼s/æ¬¡ï¼‰ |

---

## å¦‚ä½•è¿è¡Œ

### æ–¹æ³•1: ä½¿ç”¨æ„å»ºè„šæœ¬ï¼ˆæ¨èï¼‰

```batch
# é…ç½®å’Œç¼–è¯‘
cd C:\Users\10424\Desktop\Project\cpp_call_python
.\build_script.bat
.\compile.bat

# è¿è¡Œç¨‹åº
cd build
.\cpp_to_python_example.exe
```

### æ–¹æ³•2: æ‰‹åŠ¨ç¼–è¯‘

```batch
# åˆ›å»ºå¹¶è¿›å…¥ build ç›®å½•
mkdir build
cd build

# é…ç½® CMake
cmake -G "NMake Makefiles" ^
      -DCMAKE_BUILD_TYPE=Release ^
      -DCMAKE_PREFIX_PATH="D:\Python\Lib\site-packages\pybind11\share\cmake\pybind11" ^
      ..

# ç¼–è¯‘
nmake

# è¿è¡Œ
.\cpp_to_python_example.exe
```

---

## é¡¹ç›®äº®ç‚¹

### 1. ğŸš€ é«˜æ€§èƒ½
- æ¯æ¬¡å‡½æ•°è°ƒç”¨ä»…éœ€ 0.072 å¾®ç§’
- æœ€å°åŒ–å¼€é”€çš„ç±»å‹è½¬æ¢
- æ™ºèƒ½ç¼“å­˜æœºåˆ¶

### 2. ğŸ›¡ï¸ å¥å£®çš„é”™è¯¯å¤„ç†
- è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œå †æ ˆè·Ÿè¸ª
- Pythonå¼‚å¸¸è‡ªåŠ¨è½¬æ¢ä¸ºC++å¼‚å¸¸
- æ”¯æŒè‡ªå®šä¹‰é”™è¯¯å›è°ƒå‡½æ•°
- é”™è¯¯æ—¥å¿—è‡ªåŠ¨è®°å½•

### 3. ğŸ”„ çµæ´»çš„ç±»å‹ç³»ç»Ÿ
- æ”¯æŒåŸºç¡€ç±»å‹ï¼šint, double, string, bool
- æ”¯æŒSTLå®¹å™¨ï¼švector, map, tuple
- æ”¯æŒå¤æ‚åµŒå¥—ç»“æ„
- æ”¯æŒNumPyæ•°ç»„ï¼ˆå¦‚æœéœ€è¦ï¼‰

### 4. ğŸ“¦ æ˜“äºä½¿ç”¨
- ç®€æ´çš„APIè®¾è®¡
- è‡ªåŠ¨èµ„æºç®¡ç†ï¼ˆRAIIï¼‰
- æ¨¡å—åŒ–è®¾è®¡
- å®Œå–„çš„æ–‡æ¡£

### 5. ğŸ¯ å·¥ä¸šçº§è´¨é‡
- ç°ä»£C++17è®¾è®¡
- å•ä¾‹æ¨¡å¼ç®¡ç†è§£é‡Šå™¨
- æ™ºèƒ½æŒ‡é’ˆç®¡ç†å†…å­˜
- å®Œæ•´çš„å¼‚å¸¸å®‰å…¨

---

## ä¸‹ä¸€æ­¥å»ºè®®

### æ‰©å±•åŠŸèƒ½
1. æ·»åŠ æ›´å¤šè‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨
2. å®ç°Pythonè°ƒç”¨C++ï¼ˆåå‘è°ƒç”¨ï¼‰
3. æ·»åŠ å¼‚æ­¥è°ƒç”¨æ”¯æŒ
4. é›†æˆNumPyæ•°ç»„æ“ä½œ

### æ€§èƒ½ä¼˜åŒ–
1. å®ç°å‡½æ•°ç»“æœç¼“å­˜
2. æ‰¹é‡å‡½æ•°è°ƒç”¨ä¼˜åŒ–
3. å¤šçº¿ç¨‹æ”¯æŒ

### é›†æˆåˆ°æ‚¨çš„é¡¹ç›®
```cpp
// ç¤ºä¾‹ä»£ç 
#include "python_bridge.h"

int main() {
    cpppy_bridge::PythonBridge bridge;
    bridge.initialize({"./python_modules"});
    
    auto module = bridge.loadModule("your_module");
    auto result = module->callFunction<double>("your_function", arg1, arg2);
    
    std::cout << "Result: " << result << std::endl;
    return 0;
}
```

---

## æ•…éšœæ’é™¤

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. âœ… Windows SDK å·²æ­£ç¡®å®‰è£…
2. âœ… Python 3.6+ å·²å®‰è£…
3. âœ… pybind11 å·²å®‰è£… (`pip install pybind11`)
4. âœ… numpy å·²å®‰è£… (`pip install numpy`)
5. âœ… Visual Studio 2022 ç¯å¢ƒå˜é‡å·²è®¾ç½®

---

## é¡¹ç›®æ–‡ä»¶

- **å¯æ‰§è¡Œæ–‡ä»¶**: `build/cpp_to_python_example.exe`
- **æºä»£ç **: `examples/main.cpp`
- **Pythonæ¨¡å—**: `examples/python_scripts/math_operations.py`
- **å¤´æ–‡ä»¶**: `include/*.h`
- **å®ç°æ–‡ä»¶**: `src/*.cpp`

---

**ç”Ÿæˆæ—¶é—´**: 2025å¹´10æœˆ29æ—¥ 21:31  
**çŠ¶æ€**: âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡  
**æ€§èƒ½**: ğŸš€ ä¼˜ç§€ (0.072Î¼s/call)

ğŸ‰ **é¡¹ç›®ç¼–è¯‘å’Œè¿è¡Œå®Œå…¨æˆåŠŸï¼**

